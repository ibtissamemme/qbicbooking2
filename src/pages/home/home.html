<ion-header>
  <ion-navbar [color]="headerColor">
    <ion-title>
      <ion-grid>
        <ion-row align-items-center>
          <ion-col text-left>
            <img class="logo" src="assets/imgs/logo_white.png" />
          </ion-col>
          <ion-col text-center>
            {{ this.selectedRoom?.name }}
          </ion-col>
          <ion-col text-center *ngIf="selectedRoom$ | async as room">
            {{ room.name }}
          </ion-col>
          <ion-col text-right>
            {{ this.headerTime.format('LT') }}
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <div class="admin" (click)="onAdminClicked()" tappable></div>

  <div id="subheader-container" [class]="this.subHeaderTheme" *ngIf="meeting">
    <ion-grid class="subheader-row">
      <ion-row>
        <ion-col></ion-col>
        <ion-col col-5>

          <div class="host-label">
            &nbsp;
          </div>
          <div>
            {{ meeting.meetingName }}
          </div>

        </ion-col>
        <ion-col col-5 text-right>
          <div class="host-label">
            {{ 'HOME_PAGE.HOST' | translate }}
          </div>
          <div>
            {{ meeting.owner.firstName }} {{ meeting.owner.lastName }}
          </div>
        </ion-col>
        <ion-col></ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <div id="progressbar-container" *ngIf="currentStatus === PageStates.OCCUPIED">
    <ion-grid class="progressbar-grid">
      <ion-row>
        <ion-col col-2></ion-col>
        <ion-col text-left>
          <div class="host-label">
            {{ 'HOME_PAGE.BEGIN' | translate }}
          </div>
          <div>
            {{ meeting.startDateTime.format('LT') }}
          </div>

        </ion-col>
        <ion-col col-6></ion-col>
        <ion-col text-right>
          <div class="host-label">
            {{ 'HOME_PAGE.END' | translate }}
          </div>
          <div>
            {{ meeting.endDateTime.format('LT') }}
          </div>

        </ion-col>
        <ion-col col-2></ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-2></ion-col>
        <ion-col col-8>
          <div class="progress-container">
            <span class="progress progress-past" [style.width]="getProgress()">
            </span>
            <span class="progress progress-future">
            </span>
          </div>
        </ion-col>
        <ion-col col-2></ion-col>
      </ion-row>
    </ion-grid>
  </div>


  <div class="upcoming-container" *ngIf="currentStatus === PageStates.PENDING">
    <ion-grid class="upcoming-grid" >
      <ion-row text-center align-items-center>
        <ion-col>
          <div>
            {{ 'HOME_PAGE.NEXT_MEETING_IN' | translate }}
          </div>
          <div>
            {{ nextMeetingCountDown() }} {{ 'HOME_PAGE.MINUTES' | translate }}
          </div>
        </ion-col>
      </ion-row>
      <ion-row text-center align-items-center>
        <ion-col>
          <button [color]="headerColor" ion-button (click)="this.startNow()">
            {{ 'HOME_PAGE.START_NOW' | translate }}
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

 <div class="upcoming-container" *ngIf="!this.selectedRoom">
    <ion-grid class="upcoming-grid" >
      <ion-row text-center align-items-center>
        <ion-col>
          <div>
            {{ 'HOME_PAGE.NOT_CONFIGURED' | translate }}
          </div>
          </ion-col>
      </ion-row>
    </ion-grid>
  </div>


</ion-content>

<ion-footer *ngIf="this.selectedRoom">
  <ion-navbar>
    <ion-grid class="scroll">
      <ion-row align-items-center>
        <ion-col text-center>
          {{ this.helperLabel }} &darr;
        </ion-col>
      </ion-row>
      <ion-row nowrap>
        <ion-col text-center *ngFor="let dadate of dateArray">
          <hour-scroll-button [date]="dadate"></hour-scroll-button>
        </ion-col>
      </ion-row>

    </ion-grid>
    <ion-grid>
      <ion-row text-center align-items-center>
        <ion-col>
          {{this.headerTime.format('LL')}}
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-navbar>
</ion-footer>
